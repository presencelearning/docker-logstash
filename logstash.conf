input {
  lumberjack {
    port => 5043
    ssl_certificate => "/opt/logstash/certificates/logstash-forwarder.crt"
    ssl_key => "/opt/logstash/certificates/logstash-forwarder.key"
  }
  log4j {
      mode => "server"
      port => 9500
      type => eslogs
   }
}

filter {
  if [type] == "nginx" {
    grok {
      match => { "message" => "%{NGINX}" }
    }
  }
}

output {
  elasticsearch {
    protocol => "http"
    host => "elasticsearch"
    port => "9200"
  }
}
